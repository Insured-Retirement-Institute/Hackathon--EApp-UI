<section class="grid flex-grow grid-cols-4 overflow-hidden">
    <section class="flex flex-col col-span-1 gap-20 py-40 px-30">
        <div>
            <p class="text-xl font-display">Let's get started!</p>
            <p class="text-gray-300">Tell us about yourself.</p>
        </div>
        <ul>
            @for (stage of apiEApp.stages | orderBy: 'order'; track $index) {
            <li class="flex items-center gap-20 p-10" [ngClass]="{'text-blue-400 font-bold': stage.order === currentStageIndex + 1}">
                <span class="flex items-center justify-center w-24 h-24 rounded-full bg-blue-950">
                  @if(stage.order === currentStageIndex + 1) {
                    <span class="w-10 h-10 bg-blue-500 rounded-full" ></span>
                  }
                </span>
                <p class="">{{stage.title}}</p>
            </li>
            }
        </ul>
    </section>
    <section class="flex flex-col col-span-3 overflow-hidden bg-zinc-800">
        @if (showAll) {
            <app-submission class="flex-grow overflow-y-auto"></app-submission>
        }
        @else {
            <app-stage [stage]="activeStage" [form]="activeForm" class="flex-grow overflow-y-auto"></app-stage>
        }
        <div class="flex items-center justify-end gap-10 p-20 border-t border-gray-700 border-solid">
            <button mat-button type="button" class="" (click)="goBack()">Prev</button>
            <button mat-flat-button type="button" class="" (click)="goNext()">Next</button>
            <button mat-flat-button type="submit" class="" (click)="showAllocation()">Allocate</button>
            <button mat-flat-button type="submit" class="" (click)="submit()">Submit</button>
        </div>
    </section>
</section>